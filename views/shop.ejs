<%- include('header.ejs')%>

    <!-- Breadcrumb Section Begin -->
    <section class="breadcrumb-option">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb__text">
                        <h4>Shop</h4>
                        <div class="breadcrumb__links">
                            <a href="">Home</a>
                            <span>Shop</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Breadcrumb Section End -->

    <!-- Shop Section Begin -->
    <section class="shop spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="shop__sidebar">
                        <div class="shop__sidebar__search">
                            <form class="searchForm">
                                <input type="text" placeholder="Search..." id="search" name="search">
                                <button type="submit"><span class="icon_search"></span></button>
                            </form>
                        </div>
                        <div class="shop__sidebar__accordion">
                            <div class="accordion" id="accordionExample">
                                <div class="card">
                                    <div class="card-heading">
                                        <a data-toggle="collapse" data-target="#collapseOne">Categories</a>
                                    </div>
                                    <div id="collapseOne" class="collapse show" data-parent="#accordionExample">
                                        <div class="card">
                                            <%mainCategories.forEach(mainCategory=>{%>
                                                <% var originalString = mainCategory.mainCategory;
                                                   var stringWithoutSpecialChars = originalString.replace(/[^\w\s]/gi, '');
                                                   var stringWithoutSpaces = stringWithoutSpecialChars.replace(/\s/g, '');
                                                %>
                                                <div class="card-body">
                                                    <a data-toggle="collapse" style="cursor: pointer;"
                                                        data-target="#<%= stringWithoutSpaces%>">
                                                        <%= mainCategory.mainCategory%>
                                                    </a>
                                                </div>
                                                <div id="<%= stringWithoutSpaces%>" class="collapse"
                                                    data-parent="#collapseOne">
                                                    <div class="card-body">
                                                        <div class="shop__sidebar__categories">
                                                            <ul class="nice-scroll">
                                                                <% var len = mainCategory.categories.length %>
                                                                <% for (let i=0; i <len; i++) { %>
                                                                    <li><a class="category_toggler toggler"
                                                                            data-filter="<%= mainCategory.categories[i]%>">
                                                                            <%= mainCategory.categories[i]%>
                                                                        </a>
                                                                    </li>
                                                                <%}%>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <%})%>
                                        </div>
                                    </div>
                                </div>
                                <style>
                                    .toggler {
                                        color: #b7b7b7 !important;
                                    }

                                    .toggler:hover {
                                        color: black !important;
                                        cursor: pointer;
                                    }

                                    .tags_toggler:hover {
                                        color: white !important;
                                        cursor: pointer;
                                    }
                                </style>
                                <div class="card">
                                    <div class="card-heading">
                                        <a data-toggle="collapse" data-target="#collapseTwo">Branding</a>
                                    </div>
                                    <div id="collapseTwo" class="collapse show" data-parent="#accordionExample">
                                        <div class="card-body">
                                            <div class="shop__sidebar__categories">
                                                <ul class="nice-scroll">
                                                    <%brands.forEach(brand=>{%>
                                                        <li><a class="brand_toggler toggler"
                                                                data-filter="<%= brand._id%> <%brand.categories.forEach(category=>{%><%= category%> <%})%>">
                                                                <%= brand._id%>
                                                            </a></li>
                                                        <%})%>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-heading">
                                        <a data-toggle="collapse" data-target="#collapseSix">Tags</a>
                                    </div>
                                    <div id="collapseSix" class="collapse show" data-parent="#accordionExample">
                                        <div class="card-body">
                                            <div class="shop__sidebar__tags">
                                                <% tags.forEach(tag=>{ %>
                                                    <a class="tags_toggler">
                                                        <%= tag.tag%>
                                                    </a>
                                                    <%})%>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9">
                    <div class="shop__product__option">
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="shop__product__option__left">
                                    <!-- <p>Showing 1â€“12 of 126 results</p> -->
                                </div>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <div class="shop__product__option__right">
                                    <p>Sort by Price:</p>
                                    <select id="sort" onchange="sort()">
                                        <option value="1">Low To High</option>
                                        <option value="-1">High To Low</option>
                                        <option value="0">New Arrivals</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row product_container">

                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="product__pagination">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Shop Section End -->

    <!-- Footer Section Begin -->
    <%- include('footer.ejs')%>
        <!-- Footer Section End -->